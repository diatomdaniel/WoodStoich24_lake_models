"0","(start <- Sys.time())"
"1","[1]"
"1"," ""2024-09-02 08:54:44 CDT"""
"1","
"
"0","corman.dynamic <-  lapply(list(dynamic.algae, dynamic.diatoms, dynamic.greens, dynamic.cyanos), function(x) {"
"0","  params <- x"
"0","  lapply(1:nrow(in.grid), function(i) {"
"0","    params[""Pin""] = in.grid[i, ""TP_in""]"
"0","    params[""Nin""] = in.grid[i, ""TN_in""]"
"0","    params[""DOC""] = in.grid[i, ""DOC_mgL""]"
"0","    params[""z""] = in.grid[i, ""z""]"
"0","    params[""SA""] = in.grid[i, ""SA""]"
"0","    y <- c(""A1"" = 100, ""P"" =in.grid[i, ""TP_in""], ""N"" = in.grid[i, ""TN_in""], "
"0","           ""QP1"" = 0.015, ""QN1"" = 0.1)"
"0","    run <- ode(y, times, parms = params, func = dynamic.stoich.zmix)"
"0","    return(run[max(times),])"
"0","  })"
"0","})"
"0","(end <- Sys.time())"
"1","[1]"
"1"," ""2024-09-02 08:55:27 CDT"""
"1","
"
"0","time.elapsed <- (end - start)/60/60"
"0","print(paste0(""Time elapsed = "", time.elapsed, "" hours!""))"
"1","[1]"
"1"," ""Time elapsed = 0.0119834725062052 hours!"""
"1","
"
"0","# extract from list and convert to data-frame"
"0","corman.dynamic.average <- as_data_frame(do.call(rbind, corman.dynamic[[1]]))"
"0","corman.dynamic.diatoms <- as_data_frame(do.call(rbind, corman.dynamic[[2]]))"
"0","corman.dynamic.greens <- as_data_frame(do.call(rbind, corman.dynamic[[3]]))"
"0","corman.dynamic.cyanos <- as_data_frame(do.call(rbind, corman.dynamic[[4]]))"
"0",""
"0","# create summary data frame"
"0","dynamic.out <- corman2"
"0","dynamic.out$average <- corman.dynamic.average$GPP"
"0","dynamic.out$diatoms <- corman.dynamic.diatoms$GPP"
"0","dynamic.out$greens <- corman.dynamic.greens$GPP"
"0","dynamic.out$cyanos <- corman.dynamic.cyanos$GPP"
"0","dynamic.out$model <- ""dynamic"""
"0",""
