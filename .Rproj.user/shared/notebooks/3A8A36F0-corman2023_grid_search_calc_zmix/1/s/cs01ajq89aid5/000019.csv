"0","#takes over an hour to run!!"
"0","(start <- Sys.time())"
"1","[1]"
"1"," ""2024-07-29 14:13:58 CDT"""
"1","
"
"0","mm.grid <- lapply(1:nrow(grid.new), function(i){"
"0","  # indexing"
"0","  params.mich[""SA""] = grid.new[i, ""SA""]"
"0","  params.mich[""DOC""] = grid.new[i, ""DOC_mgL""]"
"0","  params.mich[""z""] = grid.new[i, ""z_m""]"
"0","  params.mich[""KP1""] = grid.new[i, ""KP1""]"
"0","  params.mich[""KN1""] = grid.new[i, ""KN1""]"
"0","  params.mich[""QP1""] = grid.new[i, ""minQP1""]"
"0","  params.mich[""QN1""] = grid.new[i, ""minQN1""]"
"0","  params.mich[""Pin""] = grid.new[i, ""TP_load""]"
"0","  params.mich[""Nin""] = grid.new[i, ""TN_load""]"
"0","  # starting values"
"0","  y <- c(""A1"" = 100, ""P"" = grid.new[i, ""TP_load""], ""N"" = grid.new[i, ""TN_load""])"
"0","  run <- ode(y, times, parms = params.mich, func = mich.single)"
"0","  return(run[max(times),])"
"0","})"
"0","# convert to df"
"0","mm.grid <- do.call(rbind, mm.grid)"
"0","mm.grid <- as_data_frame(mm.grid)"
"0","(end <- Sys.time())"
"1","[1]"
"1"," ""2024-07-29 14:14:10 CDT"""
"1","
"
"0","time.elapsed <- (end - start)/60/60"
"0","print(paste0(""Time elapsed = "", time.elapsed, "" hours!""))"
"1","[1]"
"1"," ""Time elapsed = 0.00320475306775835 hours!"""
"1","
"
"0","# # grids take too long to run, gonna save to r data file and reload for convenience"
"0","#save(mm.grid,file = ""temporary_model_files/corman2023_MM_gridsearch_zmix.Rdata"")"
"0","#d(""temporary_model_files/corman2023_MM_gridsearch_zmix.Rdata"")"
"0","# add to grid"
"0","#grid.new$est_GPP <- mm.grid$A1"
"0"," "
