"0",""
"0","# add stoichiometric ratios"
"0","gpp.combined$CN_mass <- 1/gpp.combined$QN1"
"0","gpp.combined$CP_mass <- 1/gpp.combined$QP1"
"0","gpp.combined$NP_mass <- gpp.combined$QN1/gpp.combined$QP1"
"0",""
"0","# to molar"
"0","gpp.combined$CN_molar <- (gpp.combined$CN_mass * 14.007)/(1*12.011)"
"0","gpp.combined$CP_molar <- (gpp.combined$CP_mass * 30.974)/(1*12.011)"
"0","gpp.combined$NP_molar <- (gpp.combined$QN1/14.007)/(gpp.combined$QP1/30.974)"
"0",""
"0",""
"0","# C:N"
"0","plt.cn <- gpp.combined %>%"
"0","  filter(model == ""dynamic"") %>%"
"0","  ggplot(aes(Pin, Nin, fill = log(CN_molar))) + "
"0","  geom_raster() + "
"0"," # Redfield"
"0","  geom_abline(intercept =  0, slope = c(16*14.007/30.974), "
"0","              lty = ""dashed"", col = ""white"", lwd = 1, alpha = 0.5) +"
"0","  geom_abline(data = consump.vctr, "
"0","              aes(slope = slope, intercept = intercept, lty = trait), lwd = 1) + "
"0","  # # Downing and McCauley"
"0","  # geom_abline(intercept = 0, slope  = c(14, 30), "
"0","  #             lty = ""dashed"", col = ""black"", lwd = 1, alpha = 0.5) + "
"0","  labs(#x = expression(""Inflow P ug L""^-1), "
"0","      x = NULL,"
"0","       y = expression(""Inflow N ug L""^-1),"
"0","       fill = ""log cell C:N (molar)"","
"0","      lty = NULL) + "
"0","  facet_grid(.~species) + "
"0","  scale_fill_viridis_c() + "
"0","  theme(legend.position = ""right"")"
"0",""
"0","# C:P"
"0","plt.cp <- gpp.combined %>%"
"0","  filter(model == ""dynamic"") %>%"
"0","  ggplot(aes(Pin, Nin, fill = log(CP_molar) )) + "
"0","  geom_raster() + "
"0","# Redfield"
"0","  geom_abline(intercept =  0, slope = c(16*14.007/30.974), "
"0","              lty = ""dashed"", col = ""white"", lwd = 1, alpha = 0.5)  +"
"0","  geom_abline(data = consump.vctr, "
"0","              aes(slope = slope, intercept = intercept, lty = trait), lwd = 1) + "
"0","  # # Downing and McCauley"
"0","  # geom_abline(intercept = 0, slope  = c(14, 30), "
"0","  #             lty = ""dashed"", col = ""black"", lwd = 1, alpha = 0.5) + "
"0","  labs(#x = expression(""Inflow P ug L""^-1),"
"0","      x = NULL,"
"0","       y = expression(""Inflow N ug L""^-1),"
"0","       fill = ""log cell C:P (molar)"","
"0","      lty = NULL) + "
"0","  facet_grid(.~species) + "
"0","  scale_fill_viridis_c() + "
"0","  theme(legend.position = ""right"")"
"0",""
"0","# N:P"
"0","plt.np <- gpp.combined %>%"
"0","  filter(model == ""dynamic"") %>%"
"0","  ggplot(aes(Pin, Nin, fill = log(NP_molar))) + "
"0","  geom_raster() + "
"0"," # Redfield"
"0","  geom_abline(intercept =  0, slope = c(16*14.007/30.974), "
"0","              lty = ""dashed"", col = ""white"", lwd = 1, alpha = 0.5) +"
"0","  geom_abline(data = consump.vctr, "
"0","              aes(slope = slope, intercept = intercept, lty = trait), lwd = 1) + "
"0","  # # Downing and McCauley"
"0","  # geom_abline(intercept = 0, slope  = c(14, 30), "
"0","  #             lty = ""dashed"", col = ""black"", lwd = 1, alpha = 0.5) + "
"0","  labs(x = expression(""Inflow P ug L""^-1),"
"0","       y = expression(""Inflow N ug L""^-1),"
"0","       fill = ""Log cell N:P (molar)"", "
"0","       lty = NULL) + "
"0","  facet_grid(.~species) + "
"0","  scale_fill_viridis_c() + "
"0","  theme(legend.position = ""right"")"
"0",""
"0","plt.cnp <- ggarrange(plotlist = list(plt.cn, plt.cp, plt.np), "
"0","                     align = ""hv"", labels = c(""a"", ""b"", ""c""),"
"0","                     nrow = 3, ncol = 1)"
"2","Warning: [38;5;246mRemoved 4 rows containing missing values or values outside the scale range (`geom_abline()`).[39m"
"2","Warning: [38;5;246mRemoved 4 rows containing missing values or values outside the scale range (`geom_abline()`).[39m"
"2","Warning: [38;5;246mRemoved 4 rows containing missing values or values outside the scale range (`geom_abline()`).[39m"
"0","plt.cnp"
