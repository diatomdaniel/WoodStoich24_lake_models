"0",""
"0","# DIY conversions"
"0","diatoms.traits.mass.units <- diatoms %>%"
"0","   mutate(cell_C_mg = c_per_cell * 12.011/1000,"
"0","          K_P_mgL = k_p * 30.974/1000,"
"0","          K_N_mgL = k_nit*14.007/1000)"
"0","# for Vmax, Qmax use the median C content for conversion"
"0","### for diatoms, this will be median of marine C content!"
"0","median.C.marine.diatoms <- selected.traits %>% filter(taxon == ""diatom"") %>%"
"0","  mutate(cell_C_mg = c_per_cell * 12.011/1000)"
"0","median.C.marine.diatoms <- median(median.C.marine.diatoms$cell_C_mg, na.rm = T)"
"0","#median.C.marine.diatoms"
"0","# conversions pt 2"
"0","diatoms.traits.mass.units <- diatoms.traits.mass.units %>%"
"0","  mutate(Qmax_mg_N_mg_C = qmax_nit * 14.007/median.C.marine.diatoms/1000,"
"0","         Qmax_mg_P_mg_C = qmax_p * 30.974/median.C.marine.diatoms/1000,"
"0","         Qmin_mg_N_mg_C = qmin_nit * 14.007/median.C.marine.diatoms/1000,"
"0","         Qmin_mg_P_mg_C = qmin_p * 30.974/median.C.marine.diatoms/1000,"
"0","         Vmax_mg_N_mg_C = vmax_nit* 14.007/median.C.marine.diatoms/1000,"
"0","         Vmax_mg_P_mg_C = vmax_p * 30.974/median.C.marine.diatoms/1000,"
"0","         umax_N = mu_nit,"
"0","         umax_P = mu_p)"
"0","# save for plotting below"
"0","diatoms.traits.mass.units2 <- diatoms.traits.mass.units"
"0","# add marine diatoms cell content"
"0","marine.diatoms.cpercell <-  selected.traits[selected.traits$taxon == ""diatom"" & selected.traits$system == ""marine"",] %>% select(species, taxon, system, c_per_cell)"
"0","# merge together"
"0","diatoms.traits.mass.units2 <- bind_rows(diatoms.traits.mass.units2, marine.diatoms.cpercell)"
"0",""
"0","# summary"
"0","(diatoms.traits.mass <- diatoms.traits.mass.units %>%"
"0","  select(K_P_mgL, K_N_mgL, Qmax_mg_N_mg_C, Qmax_mg_P_mg_C, Qmin_mg_N_mg_C, Qmin_mg_P_mg_C, Vmax_mg_N_mg_C, Vmax_mg_P_mg_C, umax_N, umax_P) %>%"
"0","  gather(""Trait"", ""trait.value"") %>%"
"0","  drop_na() %>%"
"0","  group_by(Trait) %>%"
"0","  summarise("
"0","    Mean = mean(trait.value, na.rm = T),"
"0","    Median = median(trait.value, na.rm = T),"
"0","    Min = min(trait.value, na.rm = T), "
"0","    Max = max(trait.value, na.rm = T),"
"0","    sd = sd(trait.value, na.rm = T),"
"0","    std.err = sd(trait.value, na.rm = T)/sqrt(n()),"
"0","    q25 = quantile(trait.value, 0.25, na.rm = T),"
"0","    q75 = quantile(trait.value, 0.75, na.rm = T),"
"0","    n = n()"
"0","  ) %>% mutate(taxon = ""diatoms"")) %>%"
"0","  knitr::kable()"
